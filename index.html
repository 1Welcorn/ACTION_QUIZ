<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are You Late? - Workplace Punctuality Quiz v5.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e40af 0%, #059669 100%);
            min-height: 100vh;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .quiz-container {
            max-width: 1200px;
            margin: 20px auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .quiz-header {
            background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 50%, #374151 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            border-bottom: 3px solid #fbbf24;
        }
        
        .quiz-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .quiz-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 400;
        }
        
        .main-content {
            display: flex;
            gap: 2rem;
            padding: 2rem;
            background: #f8fafc;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .video-section {
            flex: 1;
            min-width: 400px;
        }
        
        .quiz-section {
            flex: 1;
            min-width: 400px;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 3px solid #fbbf24;
        }
        
        .video-container iframe {
            width: 100%;
            height: 450px;
            border: none;
        }
        
        .video-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .video-btn {
            background: #1e40af;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .video-btn:hover {
            background: #1e3a8a;
            transform: translateY(-2px);
        }
        
        .quiz-content {
            padding: 2rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #1e40af, #059669);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .question-section {
            background: #f1f5f9;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border-left: 4px solid #fbbf24;
        }
        
        .question-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1.5rem;
            line-height: 1.4;
        }
        
        .choices-container {
            display: grid;
            gap: 1.2rem;
            margin-bottom: 2rem;
            grid-template-columns: 1fr;
        }
        
        .choice-btn {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 3px solid #e5e7eb;
            padding: 1.2rem 1.8rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            color: #374151;
        }
        
        .choice-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }
        
        .choice-btn:hover {
            border-color: #1e40af;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(30, 64, 175, 0.15);
            color: #1e40af;
        }
        
        .choice-btn:hover::before {
            left: 100%;
        }
        
        .choice-btn:active {
            transform: translateY(-1px) scale(0.98);
        }
        
        .choice-btn.selected {
            border-color: #1e40af;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(30, 64, 175, 0.3);
        }
        
        .choice-btn.selected::before {
            display: none;
        }
        
        .choice-btn.correct {
            border-color: #059669;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(5, 150, 105, 0.3);
            animation: correctPulse 0.6s ease-in-out;
        }
        
        .choice-btn.incorrect {
            border-color: #dc2626;
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.3);
            animation: incorrectShake 0.6s ease-in-out;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: translateY(-2px) scale(1); }
            50% { transform: translateY(-2px) scale(1.05); }
        }
        
        @keyframes incorrectShake {
            0%, 100% { transform: translateY(-2px) translateX(0); }
            25% { transform: translateY(-2px) translateX(-5px); }
            75% { transform: translateY(-2px) translateX(5px); }
        }
        
        .feedback-section {
            background: #f0f9ff;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid #0288d1;
            display: none;
        }
        
        .feedback-text {
            font-size: 1.1rem;
            font-weight: 500;
            color: #1e40af;
            margin-bottom: 1rem;
        }
        
        .explanation-text {
            font-size: 1rem;
            color: #4b5563;
            line-height: 1.5;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }
        
        .btn {
            background: #1e40af;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #1e3a8a;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #6b7280;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .score-display {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #f8fafc, #e0f2fe);
            border-radius: 15px;
            margin-bottom: 2rem;
            display: none;
        }
        
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e40af, #059669);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 1rem;
            box-shadow: 0 10px 30px rgba(30, 64, 175, 0.3);
        }
        
        .score-number {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1;
        }
        
        .score-total {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .final-message {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 1rem;
        }
        
        .restart-btn {
            background: #059669;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .restart-btn:hover {
            background: #047857;
            transform: translateY(-2px);
        }
        
        .audio-overlay {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 64, 175, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .audio-overlay:hover {
            background: rgba(30, 64, 175, 1);
            transform: scale(1.1);
        }
        
        .audio-overlay:active {
            transform: scale(0.95);
        }
        
        @media (max-width: 768px) {
            .quiz-container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .quiz-title {
                font-size: 2rem;
            }
            
            .quiz-subtitle {
                font-size: 1rem;
            }
            
            .main-content {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }
            
            .video-section, .quiz-section {
                min-width: auto;
            }
            
            .video-container iframe {
                height: 250px;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .choice-btn {
                font-size: 1rem;
                padding: 0.75rem 1rem;
            }
            
            .controls {
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <button class="audio-overlay" onclick="toggleAudio()" title="Toggle Audio">⏰</button>
    
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 class="quiz-title">⏰ Are You Late? Quiz</h1>
            <p class="quiz-subtitle">Test your knowledge about workplace punctuality and excuses</p>
        </div>

        <div class="main-content">
            <div class="video-section">
                <div class="video-container">
                    <iframe 
                        id="quizVideo"
                        src="https://www.youtube.com/embed/mCS6_G5hOKU" 
                        frameborder="0" 
                        allowfullscreen>
                    </iframe>
                </div>
                <div class="video-controls">
                    <button class="video-btn" onclick="pauseVideo()">⏸️ Pause</button>
                    <button class="video-btn" onclick="playVideo()">▶️ Play</button>
                    <button class="video-btn" onclick="restartVideo()">🔄 Restart</button>
                </div>
            </div>

            <div class="quiz-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div id="questionContainer" class="question-section">
                    <div class="question-text" id="questionText"></div>
                    <div class="choices-container" id="choicesContainer"></div>
                    <div class="feedback-section" id="feedbackSection">
                        <div class="feedback-text" id="feedbackText"></div>
                        <div class="explanation-text" id="explanationText"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="quiz-content">

            <div class="controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>← Previous</button>
                <button class="btn" id="nextBtn" onclick="nextQuestion()">Next →</button>
            </div>

            <div class="score-display" id="scoreDisplay">
                <div class="score-circle">
                    <div class="score-number" id="scoreNumber">0</div>
                    <div class="score-total">/ 11</div>
                </div>
                <div class="final-message" id="finalMessage"></div>
                <button class="restart-btn" onclick="restartQuiz()">🔄 Take Quiz Again</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz data
        const quizQuestions = [
            {
                question: "What is the video about?",
                choices: ["being late", "being on time"],
                correct: 0,
                explanation: "The video focuses on the common problem of being late to work and the various excuses people use."
            },
            {
                question: "What percentage of employees are late to work at least once a month?",
                choices: ["10%", "30%"],
                correct: 1,
                explanation: "According to the video, 30% of employees are late to work at least once a month."
            },
            {
                question: "What is the most common excuse for being late?",
                choices: ["traffic", "sick"],
                correct: 0,
                explanation: "Traffic is mentioned as the most common excuse people give for being late to work."
            },
            {
                question: "In New York, what excuse do people often give for being late?",
                choices: ["the subway", "the weather"],
                correct: 0,
                explanation: "In New York, people often blame the subway system for their lateness."
            },
            {
                question: "What percentage blame oversleeping?",
                choices: ["10%", "more than 30%"],
                correct: 1,
                explanation: "More than 30% of people blame oversleeping for being late to work."
            },
            {
                question: "What unusual animal was used in an excuse?",
                choices: ["dog", "turtle"],
                correct: 1,
                explanation: "Someone actually used a turtle as an excuse for being late!"
            },
            {
                question: "What did someone blame for being late: their mother-in-law or the president?",
                choices: ["mother-in-law", "president"],
                correct: 0,
                explanation: "Someone actually blamed their mother-in-law for making them late to work."
            },
            {
                question: "What sport was mentioned as a reason for being late?",
                choices: ["soccer", "baseball"],
                correct: 0,
                explanation: "Soccer was mentioned as one of the excuses people use for being late."
            },
            {
                question: "How do some people make up for being late?",
                choices: ["leave early", "stay longer"],
                correct: 1,
                explanation: "Some people try to make up for being late by staying longer at work."
            },
            {
                question: "What do 40% of bosses do to employees who are often late?",
                choices: ["give a raise", "fire them"],
                correct: 1,
                explanation: "40% of bosses fire employees who are consistently late to work."
            },
            {
                question: "What is a funny excuse you could use for being late?",
                choices: ["Open-ended question", "No excuse needed"],
                correct: 0,
                explanation: "This is an open-ended question where you can be creative with your excuse!"
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];
        let audioEnabled = true;

        // Initialize quiz
        function initQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            showQuestion();
            updateProgress();
            setupVideo();
        }

        // Show current question
        function showQuestion() {
            const question = quizQuestions[currentQuestion];
            document.getElementById('questionText').textContent = question.question;
            
            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = choice;
                button.onclick = () => selectChoice(index);
                choicesContainer.appendChild(button);
            });
            
            document.getElementById('feedbackSection').style.display = 'none';
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').textContent = currentQuestion === quizQuestions.length - 1 ? 'Finish Quiz' : 'Next →';
        }

        // Select a choice
        function selectChoice(choiceIndex) {
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            buttons[choiceIndex].classList.add('selected');
            
            userAnswers[currentQuestion] = choiceIndex;
        }

        // Next question
        function nextQuestion() {
            if (userAnswers[currentQuestion] === undefined) {
                alert('Please select an answer before proceeding.');
                return;
            }
            
            if (currentQuestion === quizQuestions.length - 1) {
                finishQuiz();
                return;
            }
            
            currentQuestion++;
            showQuestion();
            updateProgress();
        }

        // Previous question
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                updateProgress();
            }
        }

        // Finish quiz
        function finishQuiz() {
            calculateScore();
            showResults();
        }

        // Calculate score
        function calculateScore() {
            score = 0;
            quizQuestions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    score++;
                }
            });
        }

        // Show results
        function showResults() {
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('scoreDisplay').style.display = 'block';
            
            document.getElementById('scoreNumber').textContent = score;
            
            let message = '';
            if (score === quizQuestions.length) {
                message = '🎉 Perfect! You\'re a punctuality expert!';
            } else if (score >= quizQuestions.length * 0.8) {
                message = '👍 Great job! You know your workplace etiquette!';
            } else if (score >= quizQuestions.length * 0.6) {
                message = '👌 Good effort! Time to brush up on punctuality!';
            } else {
                message = '⏰ Better luck next time! Watch the video again!';
            }
            
            document.getElementById('finalMessage').textContent = message;
            
            if (audioEnabled) {
                speak(message);
            }
        }

        // Restart quiz
        function restartQuiz() {
            document.getElementById('scoreDisplay').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'block';
            initQuiz();
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Video controls
        function setupVideo() {
            const video = document.getElementById('quizVideo');
            video.addEventListener('load', () => {
                console.log('Video loaded successfully');
            });
        }

        function pauseVideo() {
            const video = document.getElementById('quizVideo');
            video.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
        }

        function playVideo() {
            const video = document.getElementById('quizVideo');
            video.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
        }

        function restartVideo() {
            const video = document.getElementById('quizVideo');
            video.src = video.src;
        }

        // Audio functions
        function toggleAudio() {
            audioEnabled = !audioEnabled;
            const button = document.querySelector('.audio-overlay');
            button.textContent = audioEnabled ? '⏰' : '🔇';
            button.title = audioEnabled ? 'Audio Enabled' : 'Audio Disabled';
        }

        function speak(text) {
            if (!audioEnabled) return;
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1;
                utterance.volume = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, audio enabled:', audioEnabled);
            console.log('Speech synthesis available:', 'speechSynthesis' in window);
            initQuiz();
        });
    </script>
</body>
</html>